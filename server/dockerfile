FROM oven/bun:latest

WORKDIR /app

# Copy files with explicit line ending conversion
COPY --chmod=0755 entrypoint.sh /entrypoint.sh

# Rest of the Dockerfile remains the same
COPY package.json bun.lockb ./
RUN bun install
COPY . .
RUN bunx prisma generate

EXPOSE 3000

ENTRYPOINT ["/entrypoint.sh"]